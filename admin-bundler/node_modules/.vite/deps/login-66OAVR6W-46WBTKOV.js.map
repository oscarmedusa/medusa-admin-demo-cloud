{
  "version": 3,
  "sources": ["../../../../dashboard/dist/login-66OAVR6W.mjs"],
  "sourcesContent": ["import {\n  AvatarBox\n} from \"./chunk-ZSTDLFYU.mjs\";\nimport \"./chunk-EQTBJSBZ.mjs\";\nimport {\n  isFetchError\n} from \"./chunk-ONB3JEHR.mjs\";\nimport {\n  Form\n} from \"./chunk-C7RYT3S3.mjs\";\nimport {\n  useSignInWithEmailPassword\n} from \"./chunk-V5KUQFZL.mjs\";\nimport \"./chunk-GPBQTNZI.mjs\";\nimport \"./chunk-PWWSB76U.mjs\";\nimport \"./chunk-GH77ZQI2.mjs\";\n\n// src/routes/login/login.tsx\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { Alert, Button, Heading, Hint, Input, Text } from \"@medusajs/ui\";\nimport { useForm } from \"react-hook-form\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport * as z from \"zod\";\nimport after from \"virtual:medusa/widgets/login/after\";\nimport before from \"virtual:medusa/widgets/login/before\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar LoginSchema = z.object({\n  email: z.string().email(),\n  password: z.string()\n});\nvar Login = () => {\n  const { t } = useTranslation();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const from = location.state?.from?.pathname || \"/orders\";\n  const form = useForm({\n    resolver: zodResolver(LoginSchema),\n    defaultValues: {\n      email: \"\",\n      password: \"\"\n    }\n  });\n  const { mutateAsync, isPending } = useSignInWithEmailPassword();\n  const handleSubmit = form.handleSubmit(async ({ email, password }) => {\n    try {\n      await mutateAsync({\n        email,\n        password\n      });\n      navigate(from, { replace: true });\n    } catch (error) {\n      if (isFetchError(error)) {\n        if (error.status === 401) {\n          form.setError(\"email\", {\n            type: \"manual\"\n          });\n          form.setError(\"password\", {\n            type: \"manual\",\n            message: t(\"errors.invalidCredentials\")\n          });\n          return;\n        }\n      }\n      form.setError(\"root.serverError\", {\n        type: \"manual\",\n        message: t(\"errors.serverError\")\n      });\n    }\n  });\n  const serverError = form.formState.errors?.root?.serverError?.message;\n  const validationError = form.formState.errors.email?.message || form.formState.errors.password?.message;\n  return /* @__PURE__ */ jsx(\"div\", { className: \"bg-ui-bg-subtle flex min-h-dvh w-dvw items-center justify-center\", children: /* @__PURE__ */ jsxs(\"div\", { className: \"m-4 flex w-full max-w-[280px] flex-col items-center\", children: [\n    /* @__PURE__ */ jsx(AvatarBox, {}),\n    /* @__PURE__ */ jsxs(\"div\", { className: \"mb-4 flex flex-col items-center\", children: [\n      /* @__PURE__ */ jsx(Heading, { children: t(\"login.title\") }),\n      /* @__PURE__ */ jsx(Text, { size: \"small\", className: \"text-ui-fg-subtle text-center\", children: t(\"login.hint\") })\n    ] }),\n    /* @__PURE__ */ jsxs(\"div\", { className: \"flex w-full flex-col gap-y-3\", children: [\n      before.widgets.map((w, i) => {\n        return /* @__PURE__ */ jsx(\"div\", { children: /* @__PURE__ */ jsx(w.Component, {}) }, i);\n      }),\n      /* @__PURE__ */ jsx(Form, { ...form, children: /* @__PURE__ */ jsxs(\n        \"form\",\n        {\n          onSubmit: handleSubmit,\n          className: \"flex w-full flex-col gap-y-6\",\n          children: [\n            /* @__PURE__ */ jsxs(\"div\", { className: \"flex flex-col gap-y-1\", children: [\n              /* @__PURE__ */ jsx(\n                Form.Field,\n                {\n                  control: form.control,\n                  name: \"email\",\n                  render: ({ field }) => {\n                    return /* @__PURE__ */ jsx(Form.Item, { children: /* @__PURE__ */ jsx(Form.Control, { children: /* @__PURE__ */ jsx(\n                      Input,\n                      {\n                        autoComplete: \"email\",\n                        ...field,\n                        className: \"bg-ui-bg-field-component\",\n                        placeholder: t(\"fields.email\")\n                      }\n                    ) }) });\n                  }\n                }\n              ),\n              /* @__PURE__ */ jsx(\n                Form.Field,\n                {\n                  control: form.control,\n                  name: \"password\",\n                  render: ({ field }) => {\n                    return /* @__PURE__ */ jsxs(Form.Item, { children: [\n                      /* @__PURE__ */ jsx(Form.Label, {}),\n                      /* @__PURE__ */ jsx(Form.Control, { children: /* @__PURE__ */ jsx(\n                        Input,\n                        {\n                          type: \"password\",\n                          autoComplete: \"current-password\",\n                          ...field,\n                          className: \"bg-ui-bg-field-component\",\n                          placeholder: t(\"fields.password\")\n                        }\n                      ) })\n                    ] });\n                  }\n                }\n              )\n            ] }),\n            validationError && /* @__PURE__ */ jsx(\"div\", { className: \"text-center\", children: /* @__PURE__ */ jsx(Hint, { className: \"inline-flex\", variant: \"error\", children: validationError }) }),\n            serverError && /* @__PURE__ */ jsx(\n              Alert,\n              {\n                className: \"p-2 bg-ui-bg-base items-center\",\n                dismissible: true,\n                variant: \"error\",\n                children: serverError\n              }\n            ),\n            /* @__PURE__ */ jsx(Button, { className: \"w-full\", type: \"submit\", isLoading: isPending, children: t(\"actions.continueWithEmail\") })\n          ]\n        }\n      ) }),\n      after.widgets.map((w, i) => {\n        return /* @__PURE__ */ jsx(\"div\", { children: /* @__PURE__ */ jsx(w.Component, {}) }, i);\n      })\n    ] }),\n    /* @__PURE__ */ jsx(\"span\", { className: \"text-ui-fg-muted txt-small my-6\", children: /* @__PURE__ */ jsx(\n      Trans,\n      {\n        i18nKey: \"login.forgotPassword\",\n        components: [\n          /* @__PURE__ */ jsx(\n            Link,\n            {\n              to: \"/reset-password\",\n              className: \"text-ui-fg-interactive transition-fg hover:text-ui-fg-interactive-hover focus-visible:text-ui-fg-interactive-hover font-medium outline-none\"\n            },\n            \"reset-password-link\"\n          )\n        ]\n      }\n    ) })\n  ] }) });\n};\nexport {\n  Login as Component\n};\n"],
  "mappings": "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",
  "names": ["t"]
}

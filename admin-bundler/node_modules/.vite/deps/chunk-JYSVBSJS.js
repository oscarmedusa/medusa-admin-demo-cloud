import {
  JsonViewSection
} from "./chunk-GV2TOR46.js";
import {
  ArrowUpRightOnBox,
  Badge,
  Container,
  Heading,
  IconButton,
  clx,
  useTranslation
} from "./chunk-ZUPX4YFG.js";
import {
  Link,
  Outlet
} from "./chunk-HTGWU6KF.js";
import {
  require_jsx_runtime
} from "./chunk-P6CFP5BP.js";
import {
  __toESM,
  require_react
} from "./chunk-H5NG3XTT.js";

// node_modules/@medusajs/dashboard/dist/chunk-FGHVNTU2.mjs
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var import_jsx_runtime2 = __toESM(require_jsx_runtime(), 1);
var import_react = __toESM(require_react(), 1);
var import_react2 = __toESM(require_react(), 1);
var import_jsx_runtime3 = __toESM(require_jsx_runtime(), 1);
var import_react3 = __toESM(require_react(), 1);
var MetadataSection = ({
  data,
  href = "metadata/edit"
}) => {
  const { t } = useTranslation();
  if (!data) {
    return null;
  }
  if (!("metadata" in data)) {
    return null;
  }
  const numberOfKeys = data.metadata ? Object.keys(data.metadata).length : 0;
  return (0, import_jsx_runtime.jsxs)(Container, { className: "flex items-center justify-between", children: [
    (0, import_jsx_runtime.jsxs)("div", { className: "flex items-center gap-x-3", children: [
      (0, import_jsx_runtime.jsx)(Heading, { level: "h2", children: t("metadata.header") }),
      (0, import_jsx_runtime.jsx)(Badge, { size: "2xsmall", rounded: "full", children: t("metadata.numberOfKeys", {
        count: numberOfKeys
      }) })
    ] }),
    (0, import_jsx_runtime.jsx)(
      IconButton,
      {
        size: "small",
        variant: "transparent",
        className: "text-ui-fg-muted hover:text-ui-fg-subtle",
        asChild: true,
        children: (0, import_jsx_runtime.jsx)(Link, { to: href, children: (0, import_jsx_runtime.jsx)(ArrowUpRightOnBox, {}) })
      }
    )
  ] });
};
var SingleColumnPage = ({
  children,
  widgets,
  /**
   * Data of the page which is passed to Widgets, JSON view, and Metadata view.
   */
  data,
  /**
   * Whether the page should render an outlet for children routes. Defaults to true.
   */
  hasOutlet = true,
  /**
   * Whether to show JSON view of the data. Defaults to false.
   */
  showJSON,
  /**
   * Whether to show metadata view of the data. Defaults to false.
   */
  showMetadata
}) => {
  const { before, after } = widgets;
  const widgetProps = { data };
  if (showJSON && !data) {
    if (true) {
      console.warn(
        "`showJSON` is true but no data is provided. To display JSON, provide data prop."
      );
    }
    showJSON = false;
  }
  if (showMetadata && !data) {
    if (true) {
      console.warn(
        "`showMetadata` is true but no data is provided. To display metadata, provide data prop."
      );
    }
    showMetadata = false;
  }
  return (0, import_jsx_runtime2.jsxs)("div", { className: "flex flex-col gap-y-3", children: [
    before.widgets.map((w, i) => {
      return (0, import_react.createElement)(w.Component, { ...widgetProps, key: i });
    }),
    children,
    after.widgets.map((w, i) => {
      return (0, import_react.createElement)(w.Component, { ...widgetProps, key: i });
    }),
    showMetadata && (0, import_jsx_runtime2.jsx)(MetadataSection, { data }),
    showJSON && (0, import_jsx_runtime2.jsx)(JsonViewSection, { data }),
    hasOutlet && (0, import_jsx_runtime2.jsx)(Outlet, {})
  ] });
};
var Root = ({
  children,
  /**
   * Widgets to be rendered in the main content area and sidebar.
   */
  widgets,
  /**
   * Data to be passed to widgets, JSON view, and Metadata view.
   */
  data,
  /**
   * Whether to show JSON view of the data. Defaults to false.
   */
  showJSON = false,
  /**
   * Whether to show metadata view of the data. Defaults to false.
   */
  showMetadata = false,
  /**
   * Whether to render an outlet for children routes. Defaults to true.
   */
  hasOutlet = true
}) => {
  const widgetProps = { data };
  const { before, after, sideBefore, sideAfter } = widgets;
  if (showJSON && !data) {
    if (true) {
      console.warn(
        "`showJSON` is true but no data is provided. To display JSON, provide data prop."
      );
    }
    showJSON = false;
  }
  if (showMetadata && !data) {
    if (true) {
      console.warn(
        "`showMetadata` is true but no data is provided. To display metadata, provide data prop."
      );
    }
    showMetadata = false;
  }
  const childrenArray = import_react2.Children.toArray(children);
  if (childrenArray.length !== 2) {
    throw new Error("TwoColumnPage expects exactly two children");
  }
  const [main, sidebar] = childrenArray;
  const showExtraData = showJSON || showMetadata;
  return (0, import_jsx_runtime3.jsxs)("div", { className: "flex flex-col gap-y-3", children: [
    before.widgets.map((w, i) => {
      return (0, import_react3.createElement)(w.Component, { ...widgetProps, key: i });
    }),
    (0, import_jsx_runtime3.jsxs)("div", { className: "flex flex-col gap-x-4 gap-y-3 xl:flex-row xl:items-start", children: [
      (0, import_jsx_runtime3.jsxs)("div", { className: "flex w-full flex-col gap-y-3", children: [
        main,
        after.widgets.map((w, i) => {
          return (0, import_react3.createElement)(w.Component, { ...widgetProps, key: i });
        }),
        showExtraData && (0, import_jsx_runtime3.jsxs)("div", { className: "hidden flex-col gap-y-3 xl:flex", children: [
          showMetadata && (0, import_jsx_runtime3.jsx)(MetadataSection, { data }),
          showJSON && (0, import_jsx_runtime3.jsx)(JsonViewSection, { data })
        ] })
      ] }),
      (0, import_jsx_runtime3.jsxs)("div", { className: "flex w-full max-w-[100%] flex-col gap-y-3 xl:mt-0 xl:max-w-[440px]", children: [
        sideBefore.widgets.map((w, i) => {
          return (0, import_react3.createElement)(w.Component, { ...widgetProps, key: i });
        }),
        sidebar,
        sideAfter.widgets.map((w, i) => {
          return (0, import_react3.createElement)(w.Component, { ...widgetProps, key: i });
        }),
        showExtraData && (0, import_jsx_runtime3.jsxs)("div", { className: "flex flex-col gap-y-3 xl:hidden", children: [
          showMetadata && (0, import_jsx_runtime3.jsx)(MetadataSection, { data }),
          showJSON && (0, import_jsx_runtime3.jsx)(JsonViewSection, { data })
        ] })
      ] })
    ] }),
    hasOutlet && (0, import_jsx_runtime3.jsx)(Outlet, {})
  ] });
};
var Main = ({
  children,
  className,
  ...props
}) => {
  return (0, import_jsx_runtime3.jsx)("div", { className: clx("flex w-full flex-col gap-y-3", className), ...props, children });
};
var Sidebar = ({
  children,
  className,
  ...props
}) => {
  return (0, import_jsx_runtime3.jsx)(
    "div",
    {
      className: clx(
        "flex w-full max-w-[100%] flex-col gap-y-3 xl:mt-0 xl:max-w-[440px]",
        className
      ),
      ...props,
      children
    }
  );
};
var TwoColumnPage = Object.assign(Root, { Main, Sidebar });

export {
  SingleColumnPage,
  TwoColumnPage
};
//# sourceMappingURL=chunk-JYSVBSJS.js.map

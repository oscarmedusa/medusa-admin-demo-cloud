{"version":3,"file":"use-prompt.js","sourceRoot":"","sources":["../../../../src/hooks/use-prompt/use-prompt.tsx"],"names":[],"mappings":"AAAA,YAAY,CAAA;AAEZ,OAAO,KAAK,KAAK,MAAM,OAAO,CAAA;AAC9B,OAAO,EAAE,UAAU,EAAE,MAAM,kBAAkB,CAAA;AAC7C,OAAO,EAAE,YAAY,EAAqB,MAAM,iBAAiB,CAAA;AAIjE,MAAM,SAAS,GAAG,GAAG,EAAE;IACrB,MAAM,MAAM,GAAG,KAAK,EAAE,KAAqB,EAAoB,EAAE;QAC/D,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YAC7B,IAAI,IAAI,GAAG,IAAI,CAAA;YAEf,MAAM,SAAS,GAAG,UAAU,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAA;YAE3D,MAAM,QAAQ,GAAG,GAAG,EAAE;gBACpB,IAAI,GAAG,KAAK,CAAA;gBACZ,SAAS,CAAC,OAAO,EAAE,CAAA;gBACnB,OAAO,CAAC,KAAK,CAAC,CAAA;gBAEd,gGAAgG;gBAChG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,MAAM,CAAA;YAC5C,CAAC,CAAA;YAED,MAAM,SAAS,GAAG,GAAG,EAAE;gBACrB,IAAI,GAAG,KAAK,CAAA;gBACZ,OAAO,CAAC,IAAI,CAAC,CAAA;gBACb,SAAS,CAAC,OAAO,EAAE,CAAA;gBAEnB,gGAAgG;gBAChG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,MAAM,CAAA;YAC5C,CAAC,CAAA;YAED,MAAM,MAAM,GAAG,GAAG,EAAE;gBAClB,SAAS,CAAC,MAAM,CACd,oBAAC,YAAY,IACX,IAAI,EAAE,IAAI,EACV,SAAS,EAAE,SAAS,EACpB,QAAQ,EAAE,QAAQ,KACd,KAAK,GACT,CACH,CAAA;YACH,CAAC,CAAA;YAED,MAAM,EAAE,CAAA;QACV,CAAC,CAAC,CAAA;IACJ,CAAC,CAAA;IAED,OAAO,MAAM,CAAA;AACf,CAAC,CAAA;AAED,OAAO,EAAE,SAAS,EAAE,CAAA","sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { createRoot } from \"react-dom/client\"\nimport { RenderPrompt, RenderPromptProps } from \"./render-prompt\"\n\ntype UsePromptProps = Omit<RenderPromptProps, \"onConfirm\" | \"onCancel\" | \"open\">\n\nconst usePrompt = () => {\n  const prompt = async (props: UsePromptProps): Promise<boolean> => {\n    return new Promise((resolve) => {\n      let open = true\n\n      const mountRoot = createRoot(document.createElement(\"div\"))\n\n      const onCancel = () => {\n        open = false\n        mountRoot.unmount()\n        resolve(false)\n\n        // TEMP FIX for Radix issue with dropdowns persisting pointer-events: none on body after closing\n        document.body.style.pointerEvents = \"auto\"\n      }\n\n      const onConfirm = () => {\n        open = false\n        resolve(true)\n        mountRoot.unmount()\n\n        // TEMP FIX for Radix issue with dropdowns persisting pointer-events: none on body after closing\n        document.body.style.pointerEvents = \"auto\"\n      }\n\n      const render = () => {\n        mountRoot.render(\n          <RenderPrompt\n            open={open}\n            onConfirm={onConfirm}\n            onCancel={onCancel}\n            {...props}\n          />\n        )\n      }\n\n      render()\n    })\n  }\n\n  return prompt\n}\n\nexport { usePrompt }\n"]}